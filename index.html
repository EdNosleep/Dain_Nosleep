<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Dain_Coin ‚Äî beta</title>

  <!-- Viewport –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Telegram/iOS -->
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark light" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <style>
    :root {
      --vh: 1vh;
      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
      --safe-left: env(safe-area-inset-left);
      --safe-right: env(safe-area-inset-right);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      touch-action: manipulation;
      -webkit-user-select: none;
      user-select: none;
      image-rendering: auto;
    }

    /* üëá –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞–ª–æ–∂–µ–Ω–∏—è */
    body {
      background: #000;
      position: relative;
    }

    /* –§–æ–Ω */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: #000 url("./assets/background/background.png") center center / cover no-repeat;
      z-index: -1;
      will-change: transform;
      transform: translateZ(0);
    }

    #game-root {
      position: fixed;
      left: 0; right: 0; top: 0; bottom: 0;
      padding-top: var(--safe-top);
      padding-bottom: var(--safe-bottom);
      padding-left: var(--safe-left);
      padding-right: var(--safe-right);
      width: 100%;
      height: calc(var(--vh) * 100);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    /* –ü–ª–∞—à–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–ª—å–±–æ–º–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
    #orientation-lock {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.92);
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display: none;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 24px;
      z-index: 9999;
    }
    #orientation-lock .card {
      max-width: 420px;
      width: 100%;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 20px 16px;
      backdrop-filter: blur(6px);
    }
    #orientation-lock h1 {
      font-size: 18px;
      margin: 0 0 8px 0;
    }
    #orientation-lock p {
      opacity: 0.8;
      margin: 0;
      line-height: 1.35;
      font-size: 14px;
    }
    @media (orientation: landscape) {
      #orientation-lock { display: flex; }
    }

    /* –ü—Ä–µ–ª–æ–∞–¥–µ—Ä */
    #boot {
      position: absolute;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-size: 13px;
      color: rgba(255,255,255,0.85);
      background: rgba(0,0,0,0.4);
      padding: 6px 10px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.15);
      pointer-events: none;
      opacity: 0.9;
    }
  </style>

  <!-- –ü—Ä–µ–ª–æ–∞–¥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏) -->
  <link rel="preload" as="image" href="./assets/coin_avers.png" />
  <link rel="preload" as="image" href="./assets/coin_revers.png" />
  <link rel="preload" as="image" href="./assets/coin_edge.png" />
  <link rel="preload" as="image" href="./assets/background.png" />
</head>

<body>
  <div id="game-root">
    <div id="boot">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
  </div>

  <div id="orientation-lock" aria-hidden="true">
    <div class="card">
      <h1>–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</h1>
      <p>–ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.</p>
    </div>
  </div>

  <script>
    (function fastBoot() {
      const setVh = () => {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      };
      setVh();
      window.addEventListener('resize', setVh);
      window.addEventListener('orientationchange', setVh);

      const imgs = [
        './assets/coin_avers.png',
        './assets/coin_revers.png',
        './assets/coin_edge.png',
        './assets/background.png'
      ];
      imgs.forEach(src => { const i = new Image(); i.decoding = 'async'; i.src = src; });

      let lastTouch = 0;
      document.addEventListener('touchend', (e) => {
        const now = window.performance.now();
        if (now - lastTouch <= 300) e.preventDefault();
        lastTouch = now;
      }, { passive: false });
    })();
  </script>

  <script type="module" src="./main.js" defer></script>
</body>
</html>